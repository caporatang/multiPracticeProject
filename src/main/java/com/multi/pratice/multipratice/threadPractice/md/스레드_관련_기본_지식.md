# 기본 지식

## 멀티프로세싱, 멀티태스킹
멀티프로세싱은 하드웨어 장비의 관점이고, 멀티태스킹은 운영체제 소프트웨어의 관점이다.
- 멀티프로세싱
  - 여러 CPU(여러 CPU코어)를 사용하여 동시에 여러 작업을 수행하는 것을 의미한다.
  - 하드웨어 기반으로 성능을 향상시킨다.
    - ex) 다중 코어 프로세서를 사용하는 현대 컴퓨터 시스템
- 멀티태스킹
  - 단일 CPU(단일 CPU 코어)가 여러 작업을 동시에 수행하는 것처럼 보이게 하는 것을 의미한다.
  - 소프트웨어 기반으로 CPU 시간을 분할하여 각 작업에 할당한다.
    - ex) 현대 운영 체제에서 여러 애플리케이션이 동시에 실행되는 환경


## 프로세스와 스레드
프로그램은 실제 실행하기 전까지는 단순한 파일에 불과하고, 프로그램을 실행하면 프로세스가 만들어지고 프로그램이 실행된다. 운영체제 안에서 **실행중인 프로그램을 프로세스**라고 하고, 프로세스는 실행 중인 프로그램의 **인스턴스**이다.  

각 프로세스는 독립적인 메모리 공간을 갖고, 운영체제에서 별도의 작업 단위로 분리해서 관리된다. 프로세스는 각각 별도의 메모리 공간을 갖고 있기 때문에 서로 간섭하지 않고 서로의 메모리에 직접적으로 접근할 수 없다.

- 프로세스의 메모리 구성
  - 코드 섹션 : 실행할 프로그램의 코드가 저장되는 부분
  - 데이터 섹션 : 전역 변수 및 정적 변수가 저장되는 부분
  - 힙 (Heap) : 동적으로 할당되는 메모리 영역
  - 스택 (Stack) : 메서드 호출 시 생성되는 지역 변수와 반환 주소가 저장되는 영역

스레드는 프로세스는 하나 이상의 스레드를 반드시 포함된다. 스레드는 프로세스 내에서 실행되는 작업의 단위이다. 프로세스 내에서 여러 스레드가 존재할 수 있으며, 프로세스가 제공하는 동일한 메모리 공간을 공유한다.  
- 스레드 메모리 구성
  - 공유 메모리 : 같은 프로세스의 코드 섹션, 데이터 섹션, 힙(메모리)은 프로세스 안의 모든 스레드가 공유한다.
  - 개별 스택 : 각 스레드는 자신의 스택을 가지고 있다.

## 스레드와 스케줄링
프로세스는 실행 환경과 자원을 제공하는 컨테이너 역할을 하고, 실제 CPU를 사용해서 코드를 하나하나 실행하는 것은 스레드이다.
- 단일 코어 스케줄링
  - 운영체제는 내부에 스케줄링 큐를 가지고 있고, 각각의 스레드는 스케줄링 큐에서 대기한다.
  - 작업을 하는 경우 스케줄링 큐에서 하나씩 꺼내서 CPU를 통해서 실행하고, 필요한 경우 CPU를 통한 연산도 진행한다.
  - 스케줄링 큐에 여러개가 적재되어 있는 경우, 실행했던 스레드를 다시 큐에 적재하고 다음 순서에 있는 스레드에대한 작업을 진행한다.
  - 이를 반복해서 수행한다.

- 멀티 코어 스케줄링
  - CPU 코어가 2개 이상이면 한 번에 더 많은 스레드를 물리적으로 동시에 실행 할 수 있다.
  - 단일 코어 스케줄링과 마찬가지로 스케줄링 큐에 있는 스레드를 꺼내서 작업한다. 코어가 2개이기 때문에 큐에 적재된 작업이 3개인 경우 2개가 한번에 실행되는 것이다.  

## 정리
- 멀티태스킹과 스케줄링
  - 멀티태스킹이란 동시에 여러 작업을 수행하는 것을 말한다. 이를 위해 운영체제는 스케줄링이라는 기법을 사용하며, 스케줄링은 CPU 시간을 여러 작업에 나누어 배분하는 방법이다.
- 프로세스와 스레드 
  - 프로세스 : 프로세스는 실행 중인 프로그램의 인스턴스로, 각 프로세스는 독립적인 메모리 공간을 가지며, 운영체제에서 독립된 실행 단위로 취급된다.
  - 스레드 : 프로세스 내에서 실행되는 작은 단위로, 여러 스레드는 하나의 프로세스 내에서 자원을 공유하며, 프로세스의 코드, 데이터, 시스템 자원등을 공유한다. 실제로 CPU에 의해 실행되는 단위는 스레드이다.
- 프로세스의 역할 
  - 프로세스는 실행환경을 제공하며, 메모리 공간, 파일 핸들링, 네트워크 연결 등이 포함된다. 이는 프로세스가 컨테이너 역할을 한다는 의미이다.
  - 프로세스는 운영체제의 스케줄러에 의해 직접 실행되지 않으며, 프로세스 내의 스레드가 실행된다. 1개의 프로세스 안에 하나의 스레드만 실행되는 경우도 있고, 1개의 프로세스 안에 여러 스레드가 실행되는 경우도 당연히 있다.

